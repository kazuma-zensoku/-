# ストリングアート・ジェネレーター

指定した画像をもとに、円形に配置されたピンの間に多数の直線を引くことで、元の画像を模した「ストリングアート」を生成するPythonプログラムです。

## 概要

このプログラムは、入力画像の濃淡を解析し、最も効果的に画像を表現できる線の組み合わせを計算論的に探索します。多数の線を反復的に重ねていくことで、元の画像の階調を線の密度で再現し、ユニークな芸術作品を創り出します。

## 主な機能

* **アルゴリズムによる線画生成**: OpenCVを利用して画像を読み込み、どのピンの間に線を引くべきかを決定するコスト関数を用いて、最適な描画手順を自動で構築します。
* **詳細なパラメータ調整**: スクリプト内の `params` 辞書を編集することで、生成されるアートの特性を細かく制御できます。
    * `num_pins`: 円周上に配置するピンの総数。
    * `total_num_lines`: 描画する線の最大本数。
    * `line_thickness`: 描画される線の太さ。太くすると、より少ない本数で力強い表現になります。
    * `gamma`: 画像の前処理時に行うガンマ補正の値。画像の明るさやコントラストを調整します。
    * `ink_amount_per_line`: 線一本あたりの「インク量」。線が重なった部分がどれだけ濃くなるかを制御します。
* **結果の出力と保存**:
    * 生成されたアート、リサイズされた元画像、そして両者を並べた比較画像が画面に表示されます。
    * 比較画像は `combined_original_vs_generated.jpg` として自動で保存されます。
    * どのピンとどのピンを結んだかの手順を示した「線リスト」がテキストファイル (`string_art_lines_t[太さ].txt`) として保存されます。

## 動作環境

* Python 3.x
* OpenCV (`pip install opencv-python`)
* NumPy (`pip install numpy`)

## ご利用方法

1.  **画像の準備**:
    このスクリプトと同じディレクトリに、アートの元にしたい画像ファイル（例: `washimimizuku.jpg`）を配置します。

2.  **パラメータの設定**:
    `tmp.py` をテキストエディタで開き、`if __name__ == "__main__":` のセクション内にある `params` 辞書の値を好みに合わせて調整します。
    ```python
    params = {
        "input_image_path": "washimimizuku.jpg", # ここをあなたのファイル名に変更
        "num_pins": 180,
        "total_num_lines": 8000,
        # ...その他のパラメータ
    }
    ```

3.  **スクリプトの実行**:
    コマンドプロンプトやターミナルで、以下のコマンドを実行します。
    ```shell
    python tmp.py
    ```

4.  **結果の確認**:
    実行が完了すると、結果の画像ウィンドウが表示されます。また、カレントディレクトリに比較画像と線リストのテキストファイルが保存されていることを確認してください。
